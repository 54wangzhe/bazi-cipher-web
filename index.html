<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>八字神人加密器 v9.1</title>
    <link rel="icon" href="bazi_icon.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="version">v9.1</div>
            <h1>八字神人加密器</h1>
        </header>

        <div class="main-content">
            <div class="operation-panel">
                <div class="algorithm-selector">
                    <label for="algorithm-select">加密算法:</label>
                    <select id="algorithm-select">
                        <option value="dot">点字加密</option>
                        <option value="reverse">反转加密</option>
                        <option value="caesar">凯撒密码</option>
                    </select>
                    <div id="caesar-shift" style="display: none;">
                        <label for="shift-value">位移量:</label>
                        <input type="number" id="shift-value" min="1" max="25" value="3">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="input-text">输入内容:</label>
                    <textarea id="input-text" placeholder="在此输入要加密或解密的文本..."></textarea>
                </div>
                
                <div class="button-group">
                    <button class="primary-btn" id="encrypt-btn">
                        <span class="icon">🔒</span> <span class="btn-text">加密</span>
                    </button>
                    <button class="primary-btn" id="decrypt-btn">
                        <span class="icon">🔓</span> <span class="btn-text">解密</span>
                    </button>
                </div>
                
                <div class="button-group">
                    <button class="secondary-btn" id="clear-btn">
                        <span class="icon">🧹</span> <span class="btn-text">清空</span>
                    </button>
                    <button class="primary-btn" id="copy-btn">
                        <span class="icon">📋</span> <span class="btn-text">复制结果</span>
                    </button>
                </div>
                
                <div class="result-group">
                    <label for="result-text">结果:</label>
                    <div class="result-container">
                        <textarea id="result-text" class="result-text" readonly></textarea>
                        <div id="result-loading" class="loading-overlay" style="display: none;">
                            <div class="spinner"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="history-panel" id="history-panel">
                <div class="history-header">
                    <h2 class="panel-title">历史记录</h2>
                    <div class="history-actions">
                        <button class="action-btn view-btn" id="view-detail-btn">
                            <span class="icon">🔍</span> 查看详情
                        </button>
                        <button class="action-btn delete-btn" id="delete-selected-btn">
                            <span class="icon">🗑️</span> 删除选中
                        </button>
                    </div>
                </div>
                
                <div class="history-container">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th style="width: 100px;">时间</th>
                                <th style="width: 60px;">操作</th>
                                <th style="width: 80px;">算法</th>
                                <th>原始内容</th>
                                <th>结果</th>
                            </tr>
                        </thead>
                        <tbody id="history-body">
                            <!-- 历史记录会动态加载到这里 -->
                        </tbody>
                    </table>
                </div>
                
                <div class="history-actions" style="margin-top: 6px;">
                    <button class="action-btn export-btn" id="export-btn">
                        <span class="icon">📤</span> 导出历史
                    </button>
                    <button class="action-btn clear-btn" id="clear-history-btn">
                        <span class="icon">🔥</span> 清空历史
                    </button>
                    <button class="action-btn sort-btn" id="sort-btn">
                        <span class="icon">🔄</span> 排序
                    </button>
                </div>
            </div>
        </div>
        
        <button id="toggle-history-btn">
            <span>📜</span>
        </button>
        
        <div class="status-bar">
            <div class="version-info">版本: v9.1 <span class="color-changing">由crazycba制作</span></div>
            <div class="status-info" id="status">就绪 - 按Enter键快速加密</div>
        </div>
    </div>
    
    <!-- 历史记录详情弹窗 -->
    <div class="modal" id="detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>历史记录详情</h3>
                <button class="close-btn" id="close-detail-btn">×</button>
            </div>
            <div class="modal-body">
                <div class="detail-item">
                    <div class="detail-label">时间:</div>
                    <div id="detail-time" class="detail-content"></div>
                </div>
                
                <div class="detail-item">
                    <div class="detail-label">操作:</div>
                    <div id="detail-operation" class="detail-content"></div>
                </div>
                
                <div class="detail-item">
                    <div class="detail-label">算法:</div>
                    <div id="detail-algorithm" class="detail-content"></div>
                </div>
                
                <div class="detail-item">
                    <div class="detail-label">原始内容:</div>
                    <div id="detail-original" class="detail-content"></div>
                </div>
                
                <div class="detail-item">
                    <div class="detail-label">结果:</div>
                    <div id="detail-result" class="detail-content"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 通知提示 -->
    <div class="notification" id="notification"></div>

    <script src="script.js"></script>
</body>
</html>
